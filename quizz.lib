
#nbLignes <fic>

nbLignes() {
    local fic=$1
    local nb_lignes=$(wc -l < "$fic")
    echo $nb_lignes
}

#nbChamps <fic> <separateur>

nbChamps() {
    local fic=$1
    local separateur=$2
    nb_colonnes=$(head -n 1 $fic | awk -F"$separateur" '{print NF}')
    echo $nb_colonnes
}

#alea <min> <max>

alea() {
    local min=$1
    local max=$2
    #echo "min=$min max=$max"
    echo $(($min + RANDOM % $max))
}

#niemeLigne <fic> <n>

niemeLigne() {
    local fic=$1
    local n=$2

    #afficher la ligne au numéro de ligne indiquée
    echo $(sed -n "${n}p" $fic)

}

#niemeChamp <chaine> <n> <sep>

niemeChamp() {
    local chaine=$1
    local n=$2
    local sep=$3

    #afficher le champ au numéro de champ indiqué
    echo $(echo $chaine | cut -d"$sep" -f$n) #-f : fieldnumber

}

#entete <fic> <numCol> <separateur>
#but : afficher l'entete du fichier
entete() {
    local fic=$1
    local numCol=$2
    local separateur=$3
    echo $(head -1 $fic | cut -d"$separateur" -f$numCol)
}

#afficher les champs d'un fic
#afficherChamps <fic>

afficherChamps() {
    local fic=$1
    echo $(head -1 $fic)
}

#selectLignes <fic>

selectLignes() {
    local fic=$1
    local minLignes=2 #car premier ligne header
    local maxLignes=$(nbLignes $fic)
    local numLigneChoisit=$(alea $minLignes $maxLignes) #numero de la ligne choisit
    echo $(niemeLigne $fic $numLigneChoisit)
}